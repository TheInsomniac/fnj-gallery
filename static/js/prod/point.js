(function(e){e.fn.pointPoint=function(t){var n=e.extend({"class":"pointPointArrow",distance:40},t),r=[];if(!e.support.transform){this.destroyPointPoint=function(){};return this}this.each(function(){var t=e(this),i=e('<div class="'+n["class"]+'">').appendTo("body"),s,o={},u={},a={},f,l,c,h,p,d=!0,v=180/Math.PI;r.push(i);e("html").bind("mousemove.pointPoint",function(e){if(d){i.show();d=!1}s=t.offset();o.x=s.left+t.outerWidth()/2;o.y=s.top+t.outerHeight()/2;u.x=e.pageX;u.y=e.pageY;f=u.y-o.y;l=o.x-u.x;c=Math.sqrt(f*f+l*l);h=Math.atan2(f,l);p=1;c<50?p=0:c<160&&(p=(c-50)/110);a.marginTop=u.y-n.distance*Math.sin(h);a.marginLeft=u.x+n.distance*Math.cos(h);a.transform="rotate("+ -h*v+"deg)";a.opacity=p;i.css(a)}).bind("mouseleave.pointPoint",function(){i.hide();d=!0})});this.destroyPointPoint=function(){e("html").unbind(".pointPoint");e.each(r,function(){this.remove()})};return this}})(jQuery);