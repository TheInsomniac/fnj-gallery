$(function(){function q(){for(var e=b.find("a"),c=0;c<d+f;c++)for(var a=c,g=0;g<f&&!(a<g*d);g++)(function(a){setTimeout(function(){e.eq(a).addClass("show")},50*c)})(a),a+=d-1}function r(){for(var e=b.find("a"),c=0;c<d+f;c++)for(var a=h-c,g=f-1;0<=g&&!(a>(g+1)*d-1);g--)(function(a){setTimeout(function(){e.eq(a).addClass("show")},50*c)})(a),a-=d-1}function n(b){void 0===b&&(b=k);return 0==b?0:(h-2)*b+1}var k=0,h=100,l=150,m=150,d,f,s=$(window),p=$("#loading"),b=$("#gallery");b.on("data-ready window-resized page-turned",
function(e,c){var a=[],d=[];b.trigger("loading");var f=data.slice(n(),n()+(0==k||n()+h-1>data.length-1?h-1:h-2));$.each(f,function(){d.push($.loadImage(this.thumb));a.push('<a href="'+this.large+'" class="swipebox"style="width:'+l+"px;height:"+m+"px;background-image:url("+this.thumb+')"></a>')});0<k&&a.unshift('<a class="prev" style="width:'+l+"px;height:"+m+'px;"></a>');data.length>n(k+1)&&a.push('<a class="next" style="width:'+l+"px;height:"+m+'px;"></a>');if(!a.length)return!1;$.when.apply($,d).always(function(){"window-resized"==
e.type?(b.html(a.join("")),b.find("a").addClass("static"),$("#gallery .swipebox").swipebox()):b.fadeOut(function(){b.html(a.join(""));"page-turned"==e.type&&"br"==c?r():q();$("#gallery .swipebox").swipebox();b.show()});b.trigger("loading-finished")})});b.on("loading",function(){p.show()});b.on("loading-finished",function(){p.hide()});b.on("click",".next",function(){k++;b.trigger("page-turned",["br"])});b.on("click",".prev",function(){k--;b.trigger("page-turned",["tl"])});s.on("resize",function(e){var c=
$("#gallery").innerWidth();e=$(window).height()-100;var a;d=Math.ceil(c/150);a=(150*d-c)/d;l=Math.ceil(150-a);c=d*l;f=Math.ceil(e/150);a=(150*f-e)/f;m=Math.ceil(150-a);e=f*m;h=d*f;b.width(c).height(e);b.trigger("window-resized")}).resize()});